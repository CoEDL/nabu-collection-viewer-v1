<div ng-if="transcript">
    <div layout="row">
        <md-input-container>
            <md-button class="small-button" ng-click="st = !st" ng-show="!st">
                <i class="fa fa-plus fa-lg"></i> Show Transcription
            </md-button>
            <md-button class="small-button" ng-click="st = !st" ng-show="st">
                <i class="fa fa-minus fa-lg"></i> Hide Transcription
            </md-button>
        </md-input-container>
        <div flex></div>
        <md-input-container ng-if="transcriptsSelector">
            <md-select ng-model="selectedTranscript" ng-change="loadTranscript()" class="shift-down">
                <md-option ng-repeat="text in selectedTranscript" value="{{text}}">
                    {{text}}
                </md-option>
            </md-select>
        </md-input-container>
    </div>
    <div layout="row">
        <div class="transcription-panel" ng-show="st">
            <div ng-if="transcript">
                <div ng-repeat="(k, v) in transcript" ng-if="v.value || v.referenceValue" layout="column" class="md-margin">
                    <div id="{{name}}_{{k}}"></div>
                    <div layout-align="start start">
                        <md-button class="small-button" ng-click="play({ 'start': transcript[k], 'end': transcript[k+1] })">
                            <i class="fa fa-play fa-lg"></i> Play ({{v.time}}s)
                        </md-button>
                    </div>
                    <div layout="row" layout-padding ng-class="{ 'transcription-selected': $index==selectedIndex}">
                        {{v.value}}
                        <br/>
                        {{v.referenceValue}}
                    </div>
                    <md-divider></md-divider>
                </div>
            </div>
        </div>
    </div>
</div>

<div ng-if="eopas">
    <div layout="row">
        <md-input-container>
            <md-button class="small-button" ng-click="se = !se" ng-show="!se">
                <i class="fa fa-plus fa-lg"></i> Show Interlinear Text
            </md-button>
            <md-button class="small-button" ng-click="se = !se" ng-show="se">
                <i class="fa fa-minus fa-lg"></i> Hide Interlinear Text
            </md-button>
        </md-input-container>
        <div flex></div>
        <md-input-container ng-if="interlinearTextsSelector">
            <md-select ng-model="selectedInterlinearText" ng-change="loadInterlinearText()" class="shift-down">
                <md-option ng-repeat="text in availableInterlinearTexts" value="{{text}}">
                    {{text}}
                </md-option>
            </md-select>
        </md-input-container>
    </div>
    <div layout="row" ng-if="eopas">
        <div class="transcription-panel" ng-show="se">
            <div ng-if="eopas">
                <div ng-repeat="(k, sentence) in interlinearText" layout="column" class="md-margin">
                    <div id="{{name}}_{{k}}"></div>
                    <div>
                        <md-button class="small-button" ng-click="play({ 'start': interlinearText[k], 'end': interlinearText[k+1] })">
                            <i class="fa fa-play fa-lg"></i> Play ({{sentence.time}}s)
                        </md-button>
                    </div>
                    <div ng-class="{ 'transcription-selected': $index==selectedIndex}">{{sentence.transcription}}</div>
                    <div class="highlight-translation">{{sentence.translation}}</div>
                    <div layout="row" layout-padding>
                        <table ng-repeat="word in sentence.words" class="table-style">
                            <tbody class="highlight-word">
                                <tr class="">
                                    <td class="td-style" colspan="{{word.words.length}}">{{word.text}}</td>
                                </tr>
                                <tr class="highlight-morpheme">
                                    <td class="td-style" ng-repeat="w in word.words">{{w.morpheme}}</td>
                                </tr>
                                <tr class="highlight-gloss">
                                    <td class="td-style" ng-repeat="w in word.words">{{w.gloss}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <md-divider></md-divider>
                </div>
            </div>
        </div>
    </div>
</div>