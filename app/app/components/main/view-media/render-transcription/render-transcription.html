<div ng-if="selected.transcript && transcript">
    <div layout="row">
        <md-input-container>
            <md-button class="small-button" ng-click="st = !st" ng-show="!st">
                <i class="fa fa-plus fa-lg"></i> Show Transcription
            </md-button>
            <md-button class="small-button" ng-click="st = !st" ng-show="st">
                <i class="fa fa-minus fa-lg"></i> Hide Transcription
            </md-button>
        </md-input-container>
        <div flex></div>
        <md-input-container ng-if="transcriptsSelector">
            <md-select ng-model="selected.transcript" ng-change="load('transcript')" class="shift-down" aria-label="select transcription">
                <md-option ng-repeat="text in available.transcripts" value="{{text}}">
                    {{text}}
                </md-option>
            </md-select>
        </md-input-container>
    </div>
    <div layout="row">
        <div class="transcription-panel" ng-show="st">
            <div ng-repeat="(k, v) in transcript" ng-if="v.value || v.referenceValue" layout="column" class="md-margin">
                <div id="{{name}}_{{k}}"></div>
                <div layout="row">
                    <div>
                        <md-button class="small-button" ng-click="play({ 'start': transcript[k], 'end': transcript[k+1] })">
                            <i class="fa fa-play fa-lg"></i>
                            Play ({{v.time}}<span style="text-transform: lowercase;"> seconds</span>)
                        </md-button>
                    </div>
                    <div flex></div>
                    <div>
                        <fragment-citation type="transcript" selected="selected.transcript" 
                            fragment-data="transcript[k]"></fragment-citation>
                    </div>
                </div>
                <div layout="row" layout-padding ng-class="{ 'transcription-selected': $index==selectedIndex}" class="md-title">
                    {{v.value}}
                    <br/>
                    {{v.referenceValue}}
                </div>
                <md-divider></md-divider>
            </div>
        </div>
    </div>
    <md-divider></md-divider>
</div>

<div ng-if="selected.interlinear && interlinear">
    <div layout="row">
        <md-input-container>
            <md-button class="small-button" ng-click="se = !se" ng-show="!se">
                <i class="fa fa-plus fa-lg"></i> Show Interlinear Text
            </md-button>
            <md-button class="small-button" ng-click="se = !se" ng-show="se">
                <i class="fa fa-minus fa-lg"></i> Hide Interlinear Text
            </md-button>
        </md-input-container>
        <div flex></div>
        <md-input-container ng-if="interlinearTextsSelector">
            <md-select ng-model="selected.interlinear" ng-change="load('interlinear')" class="shift-down" aria-label="select interlinear text">
                <md-option ng-repeat="text in available.interlinear" ng-value="text">
                    {{text}}
                </md-option>
            </md-select>
        </md-input-container>
    </div>
    <div layout="row">
        <div class="transcription-panel" ng-show="se">
            <div ng-repeat="(k, sentence) in interlinearText" layout="column" class="md-margin">
                <div id="{{name}}_{{k}}"></div>
                <div layout="row">
                    <div>
                        <md-button class="small-button" ng-click="play({ 'start': interlinearText[k], 'end': interlinearText[k+1] })">
                            <i class="fa fa-play fa-lg"></i> Play ({{sentence.time}}<span style="text-transform: lowercase;"> seconds</span>)
                        </md-button>
                    </div>
                    <div flex></div>
                    <div>
                        <fragment-citation type="interlinear" selected="selected.interlinear" 
                            fragment-data="interlinearText[k]"></fragment-citation>
                    </div>
                </div>
                <div class="md-title" ng-class="{ 'transcription-selected': $index==selectedIndex}">{{sentence.transcription}}</div>
                <div class="md-title highlight-translation">{{sentence.translation}}</div>
                <div layout="row" layout-padding layout-wrap>
                    <table ng-repeat="word in sentence.words" class="table-style">
                        <tbody class="md-caption highlight-word">
                            <tr class="" ng-if="word.text">
                                <td class="td-style" colspan="{{word.words.length}}">{{word.text}}</td>
                            </tr>
                            <tr class="" ng-if="!word.text">
                                <td class="td-style" ng-repeat="w in word.words">{{w.text}}</td>
                            </tr>
                            <tr class="highlight-morpheme">
                                <td class="td-style" ng-repeat="w in word.words">{{w.morpheme}}</td>
                            </tr>
                            <tr class="highlight-gloss">
                                <td class="td-style" ng-repeat="w in word.words">{{w.gloss}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <md-divider></md-divider>
            </div>
        </div>
    </div>
</div>
